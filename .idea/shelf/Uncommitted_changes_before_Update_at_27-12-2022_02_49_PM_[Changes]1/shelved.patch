Index: app.py
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>import secrets\r\nfrom flask import Flask, send_file, send_from_directory\r\nfrom flask import jsonify, make_response, request, session\r\nfrom flask_httpauth import HTTPBasicAuth\r\nfrom logger import trace, exc\r\nfrom project_app.views import EMPLOYEE as emp\r\nfrom pydantic import BaseModel\r\n\r\nfrom flask_openapi3 import Info, Tag\r\nfrom flask_openapi3 import OpenAPI\r\n\r\ninfo = Info(title=\"book API\", version=\"1.0.0\")\r\napp = OpenAPI(__name__, info=info)\r\n\r\nbook_tag = Tag(name=\"book\", description=\"Some Book\")\r\n\r\n# app = Flask(__name__)\r\nauth = HTTPBasicAuth()\r\napp.secret_key = 'tIZs2IzxoCTCd0_SkJK4fz7gRNQ'.encode('utf-8')\r\n\r\n\r\n@auth.verify_password\r\ndef authenticate(username, password):\r\n    \"\"\"\r\n    Authenticating user credential\r\n    \"\"\"\r\n    try:\r\n        if username and password:\r\n            auth_status = emp.read_auth_details(username)\r\n            if auth_status:\r\n                session['id'] = secrets.token_urlsafe(20)\r\n                return True\r\n            else:\r\n                return False\r\n        return False\r\n    except Exception as e:\r\n        exc.exception(f'Authentication error : {e}')\r\n        return make_response(jsonify({'message': 'Internal server Issue:'}), 500)\r\n\r\n\r\n@app.route('/')\r\n@auth.login_required\r\ndef login():\r\n    \"\"\"\r\n    This function is used to created user login and to generate user session key\r\n    \"\"\"\r\n    try:\r\n        if session['id']:\r\n            trace.info(\"Login success - Session id created\")\r\n            return jsonify({\"Status\":\"Login Success\", \"Access token\": session['id']})\r\n        else:\r\n            session['id'] = secrets.token_urlsafe(20)\r\n            trace.info(\"Login success - Session id created\")\r\n            return jsonify({\"Status\":\"Login Success\", \"Access token\": session['id']})\r\n    except Exception as e:\r\n        exc.exception(f'Error while user login: {e}')\r\n        return make_response(jsonify({'message': 'Internal server Issue:'}), 500)\r\n\r\n\r\n@app.route('/api/employee/register', methods=[\"GET\", \"POST\"])\r\ndef emp_register():\r\n    try:\r\n        trace.info(\"Processing New Employee Registration\")\r\n        res, make = emp.insert_emp_details(request)\r\n        if make:\r\n            return make_response(jsonify(res), make)\r\n        else:\r\n            return jsonify(res)\r\n    except Exception as e:\r\n        exc.exception(f'Error while registration : {e}')\r\n        return make_response(jsonify({'message': 'Internal server Issue:'}), 500)\r\n\r\n\r\n@app.route('/api/employee/reports', methods=[\"GET\", \"POST\"])\r\ndef emp_reports():\r\n    try:\r\n        trace.info(\"Processing employee attendance reports\")\r\n        res, make = emp.get_emp_atten_dates(request)\r\n        if make:\r\n            return make_response(jsonify(res), make)\r\n        else:\r\n            return jsonify(res)\r\n    except Exception as e:\r\n        exc.exception(f'Error while processing employee attendance report : {e}')\r\n        return make_response(jsonify({'message': 'Internal server Issue:'}), 500)\r\n\r\n\r\n@app.route('/api/employee/<string:tab>', methods=[\"GET\", \"POST\"])\r\ndef emp_atten_reports(tab):\r\n    try:\r\n        trace.info(\"Processing employee reports\")\r\n        res, make = emp.get_all_emp_atten_report(request, tab)\r\n        if make:\r\n            return make_response(jsonify(res), make)\r\n        else:\r\n            return jsonify(res)\r\n    except Exception as e:\r\n        exc.exception(f'Error while Processing employee reports : {e}')\r\n        return make_response(jsonify({'message': 'Internal server Issue:'}), 500)\r\n\r\n\r\n@app.route('/api/employee/download/<string:tab>', methods=[\"GET\", \"POST\"])\r\ndef emp_reports_download(tab):\r\n    try:\r\n        trace.info(\"Processing excel reports\")\r\n        res_path, make = emp.get_all_emp_atten_report(request, tab)\r\n        return make_response(send_file(res_path, as_attachment=True, mimetype='xlsx', download_name=\"report.xlsx\"), 200)\r\n    except Exception as e:\r\n        exc.exception(f'Error while downloading the reports files : {e}')\r\n        return make_response(jsonify({'message': 'Internal server Issue:'}), 500)\r\n\r\n\r\nif __name__ == \"__main__\":\r\n    app.run(host='0.0.0.0', port=8000, debug=True)
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app.py b/app.py
--- a/app.py	
+++ b/app.py	
@@ -111,4 +111,4 @@
 
 
 if __name__ == "__main__":
-    app.run(host='0.0.0.0', port=8000, debug=True)
\ No newline at end of file
+    app.run(host='0.0.0.0', port=8000, debug=False)
\ No newline at end of file
Index: dataaccess/dumps/Dump20221226/emp_report_hr_login.sql
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>-- MySQL dump 10.13  Distrib 8.0.31, for Win64 (x86_64)\r\n--\r\n-- Host: localhost    Database: emp_report\r\n-- ------------------------------------------------------\r\n-- Server version\t8.0.31\r\n\r\n/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;\r\n/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;\r\n/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;\r\n/*!50503 SET NAMES utf8 */;\r\n/*!40103 SET @OLD_TIME_ZONE=@@TIME_ZONE */;\r\n/*!40103 SET TIME_ZONE='+00:00' */;\r\n/*!40014 SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0 */;\r\n/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;\r\n/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='NO_AUTO_VALUE_ON_ZERO' */;\r\n/*!40111 SET @OLD_SQL_NOTES=@@SQL_NOTES, SQL_NOTES=0 */;\r\n\r\n--\r\n-- Table structure for table `hr_login`\r\n--\r\n\r\nDROP TABLE IF EXISTS `hr_login`;\r\n/*!40101 SET @saved_cs_client     = @@character_set_client */;\r\n/*!50503 SET character_set_client = utf8mb4 */;\r\nCREATE TABLE `hr_login` (\r\n  `s.no` int NOT NULL AUTO_INCREMENT,\r\n  `email` varchar(45) NOT NULL,\r\n  `pass_word` varchar(45) NOT NULL,\r\n  PRIMARY KEY (`s.no`)\r\n) ENGINE=InnoDB AUTO_INCREMENT=5 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;\r\n/*!40101 SET character_set_client = @saved_cs_client */;\r\n\r\n--\r\n-- Dumping data for table `hr_login`\r\n--\r\n\r\nLOCK TABLES `hr_login` WRITE;\r\n/*!40000 ALTER TABLE `hr_login` DISABLE KEYS */;\r\nINSERT INTO `hr_login` VALUES (1,'hr@gmail.com','hr@123'),(3,'hr@gmail','123'),(4,'test@gmail.com','test@123');\r\n/*!40000 ALTER TABLE `hr_login` ENABLE KEYS */;\r\nUNLOCK TABLES;\r\n/*!40103 SET TIME_ZONE=@OLD_TIME_ZONE */;\r\n\r\n/*!40101 SET SQL_MODE=@OLD_SQL_MODE */;\r\n/*!40014 SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS */;\r\n/*!40014 SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS */;\r\n/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;\r\n/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;\r\n/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;\r\n/*!40111 SET SQL_NOTES=@OLD_SQL_NOTES */;\r\n\r\n-- Dump completed on 2022-12-26 21:37:13\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/dataaccess/dumps/Dump20221226/emp_report_hr_login.sql b/dataaccess/dumps/Dump20221226/emp_report_hr_login.sql
--- a/dataaccess/dumps/Dump20221226/emp_report_hr_login.sql	
+++ b/dataaccess/dumps/Dump20221226/emp_report_hr_login.sql	
@@ -1,3 +1,5 @@
+CREATE DATABASE  IF NOT EXISTS `emp_report` /*!40100 DEFAULT CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci */ /*!80016 DEFAULT ENCRYPTION='N' */;
+USE `emp_report`;
 -- MySQL dump 10.13  Distrib 8.0.31, for Win64 (x86_64)
 --
 -- Host: localhost    Database: emp_report
@@ -36,7 +38,7 @@
 
 LOCK TABLES `hr_login` WRITE;
 /*!40000 ALTER TABLE `hr_login` DISABLE KEYS */;
-INSERT INTO `hr_login` VALUES (1,'hr@gmail.com','hr@123'),(3,'hr@gmail','123'),(4,'test@gmail.com','test@123');
+INSERT INTO `hr_login` VALUES (1,'hr@gmail.com','hr@123'),(4,'test@gmail.com','test@123');
 /*!40000 ALTER TABLE `hr_login` ENABLE KEYS */;
 UNLOCK TABLES;
 /*!40103 SET TIME_ZONE=@OLD_TIME_ZONE */;
@@ -49,4 +51,4 @@
 /*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
 /*!40111 SET SQL_NOTES=@OLD_SQL_NOTES */;
 
--- Dump completed on 2022-12-26 21:37:13
+-- Dump completed on 2022-12-27 14:47:43
Index: dataaccess/dumps/Dump20221226/emp_report_routines.sql
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>-- MySQL dump 10.13  Distrib 8.0.31, for Win64 (x86_64)\r\n--\r\n-- Host: localhost    Database: emp_report\r\n-- ------------------------------------------------------\r\n-- Server version\t8.0.31\r\n\r\n/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;\r\n/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;\r\n/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;\r\n/*!50503 SET NAMES utf8 */;\r\n/*!40103 SET @OLD_TIME_ZONE=@@TIME_ZONE */;\r\n/*!40103 SET TIME_ZONE='+00:00' */;\r\n/*!40014 SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0 */;\r\n/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;\r\n/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='NO_AUTO_VALUE_ON_ZERO' */;\r\n/*!40111 SET @OLD_SQL_NOTES=@@SQL_NOTES, SQL_NOTES=0 */;\r\n\r\n--\r\n-- Dumping events for database 'emp_report'\r\n--\r\n\r\n--\r\n-- Dumping routines for database 'emp_report'\r\n--\r\n/*!50003 DROP PROCEDURE IF EXISTS `emp_attend_insert` */;\r\n/*!50003 SET @saved_cs_client      = @@character_set_client */ ;\r\n/*!50003 SET @saved_cs_results     = @@character_set_results */ ;\r\n/*!50003 SET @saved_col_connection = @@collation_connection */ ;\r\n/*!50003 SET character_set_client  = utf8mb4 */ ;\r\n/*!50003 SET character_set_results = utf8mb4 */ ;\r\n/*!50003 SET collation_connection  = utf8mb4_0900_ai_ci */ ;\r\n/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;\r\n/*!50003 SET sql_mode              = 'ONLY_FULL_GROUP_BY,STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_ENGINE_SUBSTITUTION' */ ;\r\nDELIMITER ;;\r\nCREATE DEFINER=`root`@`localhost` PROCEDURE `emp_attend_insert`(IN L_DATE DATE, \r\nIN EMPY_ID VARCHAR(45), IN IN_TIME TIME, IN OUT_TIME TIME)\r\nBEGIN\r\nINSERT INTO emp_attendance_details(login_date, emp_id, in_time, out_time) \r\nVALUES (L_DATE, EMPY_ID, IN_TIME, OUT_TIME);\r\nEND ;;\r\nDELIMITER ;\r\n/*!50003 SET sql_mode              = @saved_sql_mode */ ;\r\n/*!50003 SET character_set_client  = @saved_cs_client */ ;\r\n/*!50003 SET character_set_results = @saved_cs_results */ ;\r\n/*!50003 SET collation_connection  = @saved_col_connection */ ;\r\n/*!50003 DROP PROCEDURE IF EXISTS `emp_details_insert` */;\r\n/*!50003 SET @saved_cs_client      = @@character_set_client */ ;\r\n/*!50003 SET @saved_cs_results     = @@character_set_results */ ;\r\n/*!50003 SET @saved_col_connection = @@collation_connection */ ;\r\n/*!50003 SET character_set_client  = utf8mb4 */ ;\r\n/*!50003 SET character_set_results = utf8mb4 */ ;\r\n/*!50003 SET collation_connection  = utf8mb4_0900_ai_ci */ ;\r\n/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;\r\n/*!50003 SET sql_mode              = 'ONLY_FULL_GROUP_BY,STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_ENGINE_SUBSTITUTION' */ ;\r\nDELIMITER ;;\r\nCREATE DEFINER=`root`@`localhost` PROCEDURE `emp_details_insert`(IN F_NAME VARCHAR(45), \r\nIN L_NAME VARCHAR(45), IN EMPY_ID VARCHAR(45), IN EMAIL_VALUE VARCHAR(45), IN PH_NUM VARCHAR(20),\r\nIN DEPART VARCHAR(45), IN REP_MANAGER VARCHAR(45))\r\nBEGIN\r\nINSERT INTO emp_details(first_name, last_name, emp_id, email, phn_num, department, reporting_manager)\r\n            VALUES(F_NAME, L_NAME, EMPY_ID, EMAIL_VALUE, PH_NUM, DEPART, REP_MANAGER);\r\nEND ;;\r\nDELIMITER ;\r\n/*!50003 SET sql_mode              = @saved_sql_mode */ ;\r\n/*!50003 SET character_set_client  = @saved_cs_client */ ;\r\n/*!50003 SET character_set_results = @saved_cs_results */ ;\r\n/*!50003 SET collation_connection  = @saved_col_connection */ ;\r\n/*!50003 DROP PROCEDURE IF EXISTS `emp_details_retrive_id` */;\r\n/*!50003 SET @saved_cs_client      = @@character_set_client */ ;\r\n/*!50003 SET @saved_cs_results     = @@character_set_results */ ;\r\n/*!50003 SET @saved_col_connection = @@collation_connection */ ;\r\n/*!50003 SET character_set_client  = utf8mb4 */ ;\r\n/*!50003 SET character_set_results = utf8mb4 */ ;\r\n/*!50003 SET collation_connection  = utf8mb4_0900_ai_ci */ ;\r\n/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;\r\n/*!50003 SET sql_mode              = 'ONLY_FULL_GROUP_BY,STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_ENGINE_SUBSTITUTION' */ ;\r\nDELIMITER ;;\r\nCREATE DEFINER=`root`@`localhost` PROCEDURE `emp_details_retrive_id`(IN EMPY_ID INTEGER)\r\nBEGIN\r\nSELECT * from emp_details where emp_id=EMPY_ID;\r\nEND ;;\r\nDELIMITER ;\r\n/*!50003 SET sql_mode              = @saved_sql_mode */ ;\r\n/*!50003 SET character_set_client  = @saved_cs_client */ ;\r\n/*!50003 SET character_set_results = @saved_cs_results */ ;\r\n/*!50003 SET collation_connection  = @saved_col_connection */ ;\r\n/*!50003 DROP PROCEDURE IF EXISTS `get_emp_atten_all` */;\r\n/*!50003 SET @saved_cs_client      = @@character_set_client */ ;\r\n/*!50003 SET @saved_cs_results     = @@character_set_results */ ;\r\n/*!50003 SET @saved_col_connection = @@collation_connection */ ;\r\n/*!50003 SET character_set_client  = utf8mb4 */ ;\r\n/*!50003 SET character_set_results = utf8mb4 */ ;\r\n/*!50003 SET collation_connection  = utf8mb4_0900_ai_ci */ ;\r\n/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;\r\n/*!50003 SET sql_mode              = 'ONLY_FULL_GROUP_BY,STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_ENGINE_SUBSTITUTION' */ ;\r\nDELIMITER ;;\r\nCREATE DEFINER=`root`@`localhost` PROCEDURE `get_emp_atten_all`()\r\nBEGIN\r\nSELECT * from emp_attendance_details;\r\nEND ;;\r\nDELIMITER ;\r\n/*!50003 SET sql_mode              = @saved_sql_mode */ ;\r\n/*!50003 SET character_set_client  = @saved_cs_client */ ;\r\n/*!50003 SET character_set_results = @saved_cs_results */ ;\r\n/*!50003 SET collation_connection  = @saved_col_connection */ ;\r\n/*!50003 DROP PROCEDURE IF EXISTS `get_emp_atten_all_dates` */;\r\n/*!50003 SET @saved_cs_client      = @@character_set_client */ ;\r\n/*!50003 SET @saved_cs_results     = @@character_set_results */ ;\r\n/*!50003 SET @saved_col_connection = @@collation_connection */ ;\r\n/*!50003 SET character_set_client  = utf8mb4 */ ;\r\n/*!50003 SET character_set_results = utf8mb4 */ ;\r\n/*!50003 SET collation_connection  = utf8mb4_0900_ai_ci */ ;\r\n/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;\r\n/*!50003 SET sql_mode              = 'ONLY_FULL_GROUP_BY,STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_ENGINE_SUBSTITUTION' */ ;\r\nDELIMITER ;;\r\nCREATE DEFINER=`root`@`localhost` PROCEDURE `get_emp_atten_all_dates`(IN FROM_DATE DATE, IN TO_DATE DATE)\r\nBEGIN\r\nSELECT * from emp_attendance_details WHERE login_date >= FROM_DATE and login_date <= TO_DATE;\r\nEND ;;\r\nDELIMITER ;\r\n/*!50003 SET sql_mode              = @saved_sql_mode */ ;\r\n/*!50003 SET character_set_client  = @saved_cs_client */ ;\r\n/*!50003 SET character_set_results = @saved_cs_results */ ;\r\n/*!50003 SET collation_connection  = @saved_col_connection */ ;\r\n/*!50003 DROP PROCEDURE IF EXISTS `get_emp_atten_id` */;\r\n/*!50003 SET @saved_cs_client      = @@character_set_client */ ;\r\n/*!50003 SET @saved_cs_results     = @@character_set_results */ ;\r\n/*!50003 SET @saved_col_connection = @@collation_connection */ ;\r\n/*!50003 SET character_set_client  = utf8mb4 */ ;\r\n/*!50003 SET character_set_results = utf8mb4 */ ;\r\n/*!50003 SET collation_connection  = utf8mb4_0900_ai_ci */ ;\r\n/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;\r\n/*!50003 SET sql_mode              = 'ONLY_FULL_GROUP_BY,STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_ENGINE_SUBSTITUTION' */ ;\r\nDELIMITER ;;\r\nCREATE DEFINER=`root`@`localhost` PROCEDURE `get_emp_atten_id`(IN EMPY_ID INTEGER)\r\nBEGIN\r\nSELECT * from emp_attendance_details where emp_id=EMPY_ID;\r\nEND ;;\r\nDELIMITER ;\r\n/*!50003 SET sql_mode              = @saved_sql_mode */ ;\r\n/*!50003 SET character_set_client  = @saved_cs_client */ ;\r\n/*!50003 SET character_set_results = @saved_cs_results */ ;\r\n/*!50003 SET collation_connection  = @saved_col_connection */ ;\r\n/*!50003 DROP PROCEDURE IF EXISTS `get_emp_atten_id_dates` */;\r\n/*!50003 SET @saved_cs_client      = @@character_set_client */ ;\r\n/*!50003 SET @saved_cs_results     = @@character_set_results */ ;\r\n/*!50003 SET @saved_col_connection = @@collation_connection */ ;\r\n/*!50003 SET character_set_client  = utf8mb4 */ ;\r\n/*!50003 SET character_set_results = utf8mb4 */ ;\r\n/*!50003 SET collation_connection  = utf8mb4_0900_ai_ci */ ;\r\n/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;\r\n/*!50003 SET sql_mode              = 'ONLY_FULL_GROUP_BY,STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_ENGINE_SUBSTITUTION' */ ;\r\nDELIMITER ;;\r\nCREATE DEFINER=`root`@`localhost` PROCEDURE `get_emp_atten_id_dates`(IN EMPY_ID INTEGER,IN FROM_DATE DATE, IN TO_DATE DATE)\r\nBEGIN\r\nSELECT * from emp_attendance_details where emp_id=EMPY_ID and login_date >= FROM_DATE and login_date <= TO_DATE;\r\nEND ;;\r\nDELIMITER ;\r\n/*!50003 SET sql_mode              = @saved_sql_mode */ ;\r\n/*!50003 SET character_set_client  = @saved_cs_client */ ;\r\n/*!50003 SET character_set_results = @saved_cs_results */ ;\r\n/*!50003 SET collation_connection  = @saved_col_connection */ ;\r\n/*!50003 DROP PROCEDURE IF EXISTS `hr_insert_data` */;\r\n/*!50003 SET @saved_cs_client      = @@character_set_client */ ;\r\n/*!50003 SET @saved_cs_results     = @@character_set_results */ ;\r\n/*!50003 SET @saved_col_connection = @@collation_connection */ ;\r\n/*!50003 SET character_set_client  = utf8mb4 */ ;\r\n/*!50003 SET character_set_results = utf8mb4 */ ;\r\n/*!50003 SET collation_connection  = utf8mb4_0900_ai_ci */ ;\r\n/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;\r\n/*!50003 SET sql_mode              = 'ONLY_FULL_GROUP_BY,STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_ENGINE_SUBSTITUTION' */ ;\r\nDELIMITER ;;\r\nCREATE DEFINER=`root`@`localhost` PROCEDURE `hr_insert_data`(IN EMAIL_VALUE VARCHAR(45), IN PAS_WORD VARCHAR(45))\r\nBEGIN\r\nINSERT INTO hr_login(email, pass_word)\r\n            VALUES(EMAIL_VALUE, PAS_WORD);\r\nEND ;;\r\nDELIMITER ;\r\n/*!50003 SET sql_mode              = @saved_sql_mode */ ;\r\n/*!50003 SET character_set_client  = @saved_cs_client */ ;\r\n/*!50003 SET character_set_results = @saved_cs_results */ ;\r\n/*!50003 SET collation_connection  = @saved_col_connection */ ;\r\n/*!50003 DROP PROCEDURE IF EXISTS `hr_retrive` */;\r\n/*!50003 SET @saved_cs_client      = @@character_set_client */ ;\r\n/*!50003 SET @saved_cs_results     = @@character_set_results */ ;\r\n/*!50003 SET @saved_col_connection = @@collation_connection */ ;\r\n/*!50003 SET character_set_client  = utf8mb4 */ ;\r\n/*!50003 SET character_set_results = utf8mb4 */ ;\r\n/*!50003 SET collation_connection  = utf8mb4_0900_ai_ci */ ;\r\n/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;\r\n/*!50003 SET sql_mode              = 'ONLY_FULL_GROUP_BY,STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_ENGINE_SUBSTITUTION' */ ;\r\nDELIMITER ;;\r\nCREATE DEFINER=`root`@`localhost` PROCEDURE `hr_retrive`(IN EMAIL_VALUE VARCHAR(45))\r\nBEGIN\r\nSELECT pass_word from hr_login where email=EMAIL_VALUE;\r\nEND ;;\r\nDELIMITER ;\r\n/*!50003 SET sql_mode              = @saved_sql_mode */ ;\r\n/*!50003 SET character_set_client  = @saved_cs_client */ ;\r\n/*!50003 SET character_set_results = @saved_cs_results */ ;\r\n/*!50003 SET collation_connection  = @saved_col_connection */ ;\r\n/*!40103 SET TIME_ZONE=@OLD_TIME_ZONE */;\r\n\r\n/*!40101 SET SQL_MODE=@OLD_SQL_MODE */;\r\n/*!40014 SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS */;\r\n/*!40014 SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS */;\r\n/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;\r\n/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;\r\n/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;\r\n/*!40111 SET SQL_NOTES=@OLD_SQL_NOTES */;\r\n\r\n-- Dump completed on 2022-12-26 21:37:14\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/dataaccess/dumps/Dump20221226/emp_report_routines.sql b/dataaccess/dumps/Dump20221226/emp_report_routines.sql
--- a/dataaccess/dumps/Dump20221226/emp_report_routines.sql	
+++ b/dataaccess/dumps/Dump20221226/emp_report_routines.sql	
@@ -1,3 +1,5 @@
+CREATE DATABASE  IF NOT EXISTS `emp_report` /*!40100 DEFAULT CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci */ /*!80016 DEFAULT ENCRYPTION='N' */;
+USE `emp_report`;
 -- MySQL dump 10.13  Distrib 8.0.31, for Win64 (x86_64)
 --
 -- Host: localhost    Database: emp_report
@@ -33,10 +35,10 @@
 /*!50003 SET sql_mode              = 'ONLY_FULL_GROUP_BY,STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_ENGINE_SUBSTITUTION' */ ;
 DELIMITER ;;
 CREATE DEFINER=`root`@`localhost` PROCEDURE `emp_attend_insert`(IN L_DATE DATE, 
-IN EMPY_ID VARCHAR(45), IN IN_TIME TIME, IN OUT_TIME TIME)
+IN EMPY_ID VARCHAR(45), IN IN_TIME TIME, IN OUT_TIME TIME, IN PER_MIS TINYINT)
 BEGIN
-INSERT INTO emp_attendance_details(login_date, emp_id, in_time, out_time) 
-VALUES (L_DATE, EMPY_ID, IN_TIME, OUT_TIME);
+INSERT INTO emp_attendance_details(login_date, emp_id, in_time, out_time,permission_days) 
+VALUES (L_DATE, EMPY_ID, IN_TIME, OUT_TIME, PER_MIS);
 END ;;
 DELIMITER ;
 /*!50003 SET sql_mode              = @saved_sql_mode */ ;
@@ -209,4 +211,4 @@
 /*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
 /*!40111 SET SQL_NOTES=@OLD_SQL_NOTES */;
 
--- Dump completed on 2022-12-26 21:37:14
+-- Dump completed on 2022-12-27 14:47:44
Index: dataaccess/dumps/Dump20221226/emp_report_emp_attendance_details.sql
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>-- MySQL dump 10.13  Distrib 8.0.31, for Win64 (x86_64)\r\n--\r\n-- Host: localhost    Database: emp_report\r\n-- ------------------------------------------------------\r\n-- Server version\t8.0.31\r\n\r\n/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;\r\n/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;\r\n/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;\r\n/*!50503 SET NAMES utf8 */;\r\n/*!40103 SET @OLD_TIME_ZONE=@@TIME_ZONE */;\r\n/*!40103 SET TIME_ZONE='+00:00' */;\r\n/*!40014 SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0 */;\r\n/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;\r\n/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='NO_AUTO_VALUE_ON_ZERO' */;\r\n/*!40111 SET @OLD_SQL_NOTES=@@SQL_NOTES, SQL_NOTES=0 */;\r\n\r\n--\r\n-- Table structure for table `emp_attendance_details`\r\n--\r\n\r\nDROP TABLE IF EXISTS `emp_attendance_details`;\r\n/*!40101 SET @saved_cs_client     = @@character_set_client */;\r\n/*!50503 SET character_set_client = utf8mb4 */;\r\nCREATE TABLE `emp_attendance_details` (\r\n  `s.no` int NOT NULL AUTO_INCREMENT,\r\n  `login_date` date DEFAULT NULL,\r\n  `emp_id` varchar(45) NOT NULL,\r\n  `in_time` time DEFAULT NULL,\r\n  `out_time` time DEFAULT NULL,\r\n  `permission_days` tinyint DEFAULT NULL,\r\n  PRIMARY KEY (`s.no`)\r\n) ENGINE=InnoDB AUTO_INCREMENT=6 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;\r\n/*!40101 SET character_set_client = @saved_cs_client */;\r\n\r\n--\r\n-- Dumping data for table `emp_attendance_details`\r\n--\r\n\r\nLOCK TABLES `emp_attendance_details` WRITE;\r\n/*!40000 ALTER TABLE `emp_attendance_details` DISABLE KEYS */;\r\nINSERT INTO `emp_attendance_details` VALUES (1,'2022-12-23','1001','09:30:00','18:00:00',0),(2,'2022-10-05','1001',NULL,NULL,1),(3,'2022-05-05','1002',NULL,'27:00:00',1),(4,'2022-05-05','1003','10:00:00','17:00:09',0),(5,'2022-05-05','1001','11:00:08','15:00:09',0);\r\n/*!40000 ALTER TABLE `emp_attendance_details` ENABLE KEYS */;\r\nUNLOCK TABLES;\r\n/*!40103 SET TIME_ZONE=@OLD_TIME_ZONE */;\r\n\r\n/*!40101 SET SQL_MODE=@OLD_SQL_MODE */;\r\n/*!40014 SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS */;\r\n/*!40014 SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS */;\r\n/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;\r\n/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;\r\n/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;\r\n/*!40111 SET SQL_NOTES=@OLD_SQL_NOTES */;\r\n\r\n-- Dump completed on 2022-12-26 21:37:13\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/dataaccess/dumps/Dump20221226/emp_report_emp_attendance_details.sql b/dataaccess/dumps/Dump20221226/emp_report_emp_attendance_details.sql
--- a/dataaccess/dumps/Dump20221226/emp_report_emp_attendance_details.sql	
+++ b/dataaccess/dumps/Dump20221226/emp_report_emp_attendance_details.sql	
@@ -1,3 +1,5 @@
+CREATE DATABASE  IF NOT EXISTS `emp_report` /*!40100 DEFAULT CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci */ /*!80016 DEFAULT ENCRYPTION='N' */;
+USE `emp_report`;
 -- MySQL dump 10.13  Distrib 8.0.31, for Win64 (x86_64)
 --
 -- Host: localhost    Database: emp_report
@@ -30,7 +32,7 @@
   `out_time` time DEFAULT NULL,
   `permission_days` tinyint DEFAULT NULL,
   PRIMARY KEY (`s.no`)
-) ENGINE=InnoDB AUTO_INCREMENT=6 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;
+) ENGINE=InnoDB AUTO_INCREMENT=48 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;
 /*!40101 SET character_set_client = @saved_cs_client */;
 
 --
@@ -39,7 +41,7 @@
 
 LOCK TABLES `emp_attendance_details` WRITE;
 /*!40000 ALTER TABLE `emp_attendance_details` DISABLE KEYS */;
-INSERT INTO `emp_attendance_details` VALUES (1,'2022-12-23','1001','09:30:00','18:00:00',0),(2,'2022-10-05','1001',NULL,NULL,1),(3,'2022-05-05','1002',NULL,'27:00:00',1),(4,'2022-05-05','1003','10:00:00','17:00:09',0),(5,'2022-05-05','1001','11:00:08','15:00:09',0);
+INSERT INTO `emp_attendance_details` VALUES (1,'2022-12-23','1001','09:30:00','18:00:00',0),(2,'2022-10-05','1001',NULL,NULL,1),(3,'2022-05-05','1002',NULL,'27:00:00',1),(4,'2022-05-05','1003','10:00:00','17:00:09',0),(5,'2022-05-05','1001','11:00:08','15:00:09',0),(6,'2022-10-01','1001','09:30:00','18:30:00',0),(7,'2022-10-02','1001','09:30:00','19:00:00',0),(8,'2022-10-03','1001','09:10:00','16:00:00',0),(9,'2022-10-04','1001',NULL,NULL,1),(10,'2022-10-05','1001','09:30:00',NULL,0),(11,'2022-10-06','1001',NULL,'20:00:00',0),(12,'2022-10-07','1001','10:10:00','18:00:30',0),(13,'2022-10-08','1001','10:10:10',NULL,0),(14,'2022-10-09','1001','09:30:00','19:00:00',0),(15,'2022-10-10','1001','09:10:00','19:30:00',0),(36,'2022-11-01','1001','09:10:00','18:30:00',0),(37,'2022-11-02','1001','09:30:00','20:00:00',0),(38,'2022-11-03','1001','10:10:00','16:00:00',0),(39,'2022-11-04','1001',NULL,NULL,0),(40,'2022-11-05','1001',NULL,NULL,1),(41,'2022-11-06','1001','10:10:00','18:00:30',0),(42,'2022-11-07','1001','09:30:00','19:30:00',0),(43,'2022-11-08','1001','09:10:00','18:30:00',0),(44,'2022-10-01','1002','09:00:00','18:35:00',0),(45,'2022-10-02','1002','10:30:00','20:00:00',0),(46,'2022-10-03','1002','10:10:00','16:00:00',0),(47,'2022-10-03','1002','09:10:00','18:30:00',0);
 /*!40000 ALTER TABLE `emp_attendance_details` ENABLE KEYS */;
 UNLOCK TABLES;
 /*!40103 SET TIME_ZONE=@OLD_TIME_ZONE */;
@@ -52,4 +54,4 @@
 /*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
 /*!40111 SET SQL_NOTES=@OLD_SQL_NOTES */;
 
--- Dump completed on 2022-12-26 21:37:13
+-- Dump completed on 2022-12-27 14:47:44
Index: dataaccess/dumps/Dump20221226/emp_report_emp_details.sql
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>-- MySQL dump 10.13  Distrib 8.0.31, for Win64 (x86_64)\r\n--\r\n-- Host: localhost    Database: emp_report\r\n-- ------------------------------------------------------\r\n-- Server version\t8.0.31\r\n\r\n/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;\r\n/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;\r\n/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;\r\n/*!50503 SET NAMES utf8 */;\r\n/*!40103 SET @OLD_TIME_ZONE=@@TIME_ZONE */;\r\n/*!40103 SET TIME_ZONE='+00:00' */;\r\n/*!40014 SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0 */;\r\n/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;\r\n/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='NO_AUTO_VALUE_ON_ZERO' */;\r\n/*!40111 SET @OLD_SQL_NOTES=@@SQL_NOTES, SQL_NOTES=0 */;\r\n\r\n--\r\n-- Table structure for table `emp_details`\r\n--\r\n\r\nDROP TABLE IF EXISTS `emp_details`;\r\n/*!40101 SET @saved_cs_client     = @@character_set_client */;\r\n/*!50503 SET character_set_client = utf8mb4 */;\r\nCREATE TABLE `emp_details` (\r\n  `s.no` int NOT NULL AUTO_INCREMENT,\r\n  `first_name` varchar(45) DEFAULT NULL,\r\n  `last_name` varchar(45) DEFAULT NULL,\r\n  `emp_id` varchar(45) DEFAULT NULL,\r\n  `email` varchar(45) DEFAULT NULL,\r\n  `phn_num` varchar(20) DEFAULT NULL,\r\n  `department` varchar(45) DEFAULT NULL,\r\n  `reporting_manager` varchar(45) DEFAULT NULL,\r\n  PRIMARY KEY (`s.no`)\r\n) ENGINE=InnoDB AUTO_INCREMENT=19 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;\r\n/*!40101 SET character_set_client = @saved_cs_client */;\r\n\r\n--\r\n-- Dumping data for table `emp_details`\r\n--\r\n\r\nLOCK TABLES `emp_details` WRITE;\r\n/*!40000 ALTER TABLE `emp_details` DISABLE KEYS */;\r\nINSERT INTO `emp_details` VALUES (1,'sasikumar','devaraj','1002','sasi@gmail.com','9994288732','Automation','Gaurav'),(2,'ramesh','kumar','1003','ramesh@gmail.com','8248595191','IT','SASI'),(13,'mahesh','babu','1005','mahesh@gmail.com','9824859519','IT','Suresh');\r\n/*!40000 ALTER TABLE `emp_details` ENABLE KEYS */;\r\nUNLOCK TABLES;\r\n/*!40103 SET TIME_ZONE=@OLD_TIME_ZONE */;\r\n\r\n/*!40101 SET SQL_MODE=@OLD_SQL_MODE */;\r\n/*!40014 SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS */;\r\n/*!40014 SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS */;\r\n/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;\r\n/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;\r\n/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;\r\n/*!40111 SET SQL_NOTES=@OLD_SQL_NOTES */;\r\n\r\n-- Dump completed on 2022-12-26 21:37:13\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/dataaccess/dumps/Dump20221226/emp_report_emp_details.sql b/dataaccess/dumps/Dump20221226/emp_report_emp_details.sql
--- a/dataaccess/dumps/Dump20221226/emp_report_emp_details.sql	
+++ b/dataaccess/dumps/Dump20221226/emp_report_emp_details.sql	
@@ -1,3 +1,5 @@
+CREATE DATABASE  IF NOT EXISTS `emp_report` /*!40100 DEFAULT CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci */ /*!80016 DEFAULT ENCRYPTION='N' */;
+USE `emp_report`;
 -- MySQL dump 10.13  Distrib 8.0.31, for Win64 (x86_64)
 --
 -- Host: localhost    Database: emp_report
@@ -32,7 +34,7 @@
   `department` varchar(45) DEFAULT NULL,
   `reporting_manager` varchar(45) DEFAULT NULL,
   PRIMARY KEY (`s.no`)
-) ENGINE=InnoDB AUTO_INCREMENT=19 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;
+) ENGINE=InnoDB AUTO_INCREMENT=29 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;
 /*!40101 SET character_set_client = @saved_cs_client */;
 
 --
@@ -41,7 +43,7 @@
 
 LOCK TABLES `emp_details` WRITE;
 /*!40000 ALTER TABLE `emp_details` DISABLE KEYS */;
-INSERT INTO `emp_details` VALUES (1,'sasikumar','devaraj','1002','sasi@gmail.com','9994288732','Automation','Gaurav'),(2,'ramesh','kumar','1003','ramesh@gmail.com','8248595191','IT','SASI'),(13,'mahesh','babu','1005','mahesh@gmail.com','9824859519','IT','Suresh');
+INSERT INTO `emp_details` VALUES (1,'sasikumar','devaraj','1002','sasi@gmail.com','9994288732','Automation','Gaurav'),(2,'ramesh','kumar','1003','ramesh@gmail.com','8248595191','IT','SASI'),(3,'mahesh','babu','1005','mahesh@gmail.com','9824859519','IT','Suresh'),(19,'SMITH','ALLEN','1001','smith@gmail.com','9845645452','Admin','MARTINEZ'),(20,'JOHNSON','YOUNG','1004','john@gmail.com','9754543542','Hr','MARTINEZ'),(21,'WILLIAMS','WALKER','1006','willi@gmail.com','6875123122','IT','HERNANDEZ'),(22,'BROWN','ROBINSON','1008','brown@gmail.com','6654332452','Automation','MARTINEZ'),(23,'JONES','LEWIS','1009','jones@gmail.com','7875212121','Accounts','HERNANDEZ'),(24,'GARCIA','RAMIREZ','1010','garcia@gmail.com','8651321225','System admin','MARTINEZ'),(25,'MILLER','CLARK','1011','miller@gmail.com','9894422124','Accounts','HERNANDEZ'),(26,'DAVIS','SANCHEZ','1012','davis@gmail.com','8754545321','IT','MARTINEZ'),(27,'RODRIGUEZ','HARRIS','1013','rodri@gmail.com','9112255331','Hr','MARTINEZ');
 /*!40000 ALTER TABLE `emp_details` ENABLE KEYS */;
 UNLOCK TABLES;
 /*!40103 SET TIME_ZONE=@OLD_TIME_ZONE */;
@@ -54,4 +56,4 @@
 /*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
 /*!40111 SET SQL_NOTES=@OLD_SQL_NOTES */;
 
--- Dump completed on 2022-12-26 21:37:13
+-- Dump completed on 2022-12-27 14:47:43
